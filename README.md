# Телеграм Бот "Залетіло"

Бот для знаходження креаторів та моделей для співпраці з брендами.

## Нові фічі

### 1. Запит контактів користувача
- При першому запуску бот просить користувача поділитися контактом
- Використовує вбудований функціонал Telegram для запиту контактів
- Контакти зберігаються в базі даних

### 2. Відправка зображення
- Разом з першим повідомленням відправляється зображення з дизайном бота
- Зображення генерується автоматично за допомогою PIL
- Fallback на текст якщо зображення недоступне

### 3. Автоматична повторна відправка
- Через 10 секунд після першого повідомлення
- Відправляється напоминаюче повідомлення з посиланням на канал
- Текст: "Мабуть хтось заснув, будь-ласка підпишіться на телеграм канал"

## Встановлення

1. Встановіть залежності:
```bash
pip install -r requirements.txt
```

2. Створіть зображення бота (одним з способів):

**Спосіб 1: Використання PIL (рекомендовано)**
```bash
python generate_image.py
```

**Спосіб 2: Ручне створення**
- Створіть файл `images/bot_image.png` розміром не менше 1KB
- Використайте будь-який графічний редактор
- Рекомендований розмір: 800x600 пікселів

3. Налаштуйте змінні середовища:
```bash
export TELEGRAM_BOT_TOKEN="ваш_токен"
export DATABASE_URL="ваша_база_даних"
```

4. Протестуйте бота:
```bash
python test_bot.py
```

5. Запустіть бота:
```bash
python main.py
```

## Структура проекту

- `main.py` - основний файл бота з новими фічами
- `database.py` - робота з базою даних (оновлено для контактів)
- `broadcast.py` - функціонал розсилки
- `test_bot.py` - тестування функцій бота
- `images/` - папка з зображеннями
- `requirements.txt` - залежності Python

## База даних

Автоматично створюються таблиці:
- `users` - користувачі бота
- `user_contacts` - контакти користувачів (нова таблиця)

## Використання

1. Користувач запускає `/start`
2. Бот просить поділитися контактом
3. Після надання контакту відправляється зображення та основне повідомлення
4. Через 10 секунд відправляється напоминаюче повідомлення
5. Користувач може підписатися на канал та оберти регіон

## Тестування

Запустіть тестовий скрипт для перевірки:
```bash
python test_bot.py
```

Тест перевіряє:
- Імпорт всіх необхідних бібліотек
- Наявність змінних середовища
- Наявність всіх файлів проекту

## Примітки

- Якщо зображення недоступне, бот автоматично відправляє тільки текст
- Контакти користувачів зберігаються в окремій таблиці
- Таймер 10 секунд використовує asyncio для асинхронної роботи 